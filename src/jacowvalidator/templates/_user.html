<div class="field">
    <label class="label" for="username">{{ form.username.label }}</label>
    <div class="control">
      <input id="username" name="username"
        class="input {% if form.username.errors|length > 0 %} is-danger {% endif %}"
        value="{% if form.is_submitted() or mode == 'update' %}{{ form.username.data }}{% endif %}"
        type="text" maxlength="32">
    </div>
    {% for error in form.username.errors %}
    <p class="help is-danger">[{{ error }}]</p>
  {% endfor %}
</div>
<div class="field">
  <label class="label" for="first_name">{{ form.first_name.label }}</label>
  <div class="control">
    <input id="first_name" name="first_name"
      class="input {% if form.first_name.errors|length > 0 %} is-danger {% endif %}"
      value="{% if form.is_submitted() or mode == 'update' %}{{ form.first_name.data }}{% endif %}"
      type="text" maxlength="32">
  </div>
  {% for error in form.first_name.errors %}
  <p class="help is-danger">[{{ error }}]</p>
{% endfor %}
</div>
<div class="field">
<label class="label" for="last_name">{{ form.last_name.label }}</label>
<div class="control">
  <input id="last_name" name="last_name"
    class="input {% if form.last_name.errors|length > 0 %} is-danger {% endif %}"
    value="{% if form.is_submitted() or mode == 'update' %}{{ form.last_name.data }}{% endif %}"
    type="text" maxlength="32">
</div>
{% for error in form.last_name.errors %}
<p class="help is-danger">[{{ error }}]</p>
{% endfor %}
</div>
<div class="field">
<label class="label" for="email">{{ form.email.label }}</label>
<div class="control">
<input id="email" name="email"
  class="input {% if form.email.errors|length > 0 %} is-danger {% endif %}"
  value="{% if form.is_submitted() or mode == 'update' %}{{ form.email.data }}{% endif %}"
  type="text" maxlength="32">
</div>
{% for error in form.email.errors %}
<p class="help is-danger">[{{ error }}]</p>
{% endfor %}
</div>
{% if not mode == 'update' %}
<div class="field">
    <label class="label" for="password">{{ form.password.label }}</label>
    <div class="control">
      <input id="password" name="password"
        class="input {% if form.password.errors|length > 0 %} is-danger {% endif %}"
        value="{% if form.is_submitted() %}{{ form.password.data }}{% endif %}" type="password" maxlength="32">
    </div>
    {% for error in form.password.errors %}
    <p class="help is-danger">[{{ error }}]</p>
  {% endfor %}
</div>
<div class="field">
  <label class="label" for="password2">{{ form.password2.label }}</label>
  <div class="control">
    <input id="password2" name="password2"
      class="input {% if form.password2.errors|length > 0 %} is-danger {% endif %}"
      value="{% if form.is_submitted() %}{{ form.password2.data }}{% endif %}" type="password" maxlength="32">
  </div>
    {% for error in form.password2.errors %}
      <p class="help is-danger">[{{ error }}]</p>
    {% endfor %}
</div>
{% endif %}